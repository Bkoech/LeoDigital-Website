function calculate_time_zone(e){"undefined"==typeof e&&(e=!1);var t=new Date,i=new Date(t.getFullYear(),0,1,0,0,0,0),r=new Date(t.getFullYear(),6,1,0,0,0,0),a=i.toGMTString(),n=new Date(a.substring(0,a.lastIndexOf(" ")-1));a=r.toGMTString();var s,l=new Date(a.substring(0,a.lastIndexOf(" ")-1)),u=(i-n)/36e5,m=(r-l)/36e5;if(u==m)s="0";else{var o=u-m;o>=0&&(u=m),s="1"}var d,f=convert(u)+","+s;if(e&&document.getElementById("timezone"))for(d=0;d<document.getElementById("timezone").options.length;d++)if(document.getElementById("timezone").options[d].value==f){document.getElementById("timezone").selectedIndex=d;break}return f}function linkHandler(e){var t=validate();if(t){e.preventDefault();var i=screen.width-500;window.open(jQuery(this).attr("href"),"_blank","width=500,height=800,left="+i)}else if(jQuery("#chk_showemaillink").is(":checked")&&jQuery("#fb_email").length>0){var r=jQuery("#fb_email").val();if(""!=r&&isEmail(r)&&jQuery("#fb_link").hasClass("email_us"))jQuery(this).attr("href","mailto:"+r),jQuery(this).attr("target","_self");else{e.preventDefault();var i=screen.width-500;window.open(jQuery(this).attr("href"),"_blank","width=500,height=800,left="+i)}}else emailLink||jQuery(this).hasClass("disabled")&&e.preventDefault()}function convert(e){var t=parseInt(e);e-=parseInt(e),e*=60;var i=parseInt(e);e-=parseInt(e),e*=60;var r=(parseInt(e),t);return r=0==t?"00":t>0?10>t?"+0"+t:"+"+t:t>-10?"-0"+Math.abs(t):t,i=10>i?"0"+i:i,r+":"+i}function validate(){if(jQuery("#fb_url").length>0&&(fb=jQuery("#fb_url").val()),""==fb)return sweetAlert("Oops...","Something went wrong!","error"),!1;jQuery("#chk_mon").length>0&&(mon=jQuery("#chk_mon").is(":checked"),tue=jQuery("#chk_tue").is(":checked"),wed=jQuery("#chk_wed").is(":checked"),thu=jQuery("#chk_thu").is(":checked"),fri=jQuery("#chk_fri").is(":checked"),sat=jQuery("#chk_sat").is(":checked"),sun=jQuery("#chk_sun").is(":checked"));var t=new Date,i=Array();i.mon=mon,i.tue=tue,i.wed=wed,i.thu=thu,i.fri=fri,i.sat=sat,i.sun=sun;var r=[];r[1]="mon",r[2]="tue",r[3]="wed",r[4]="thu",r[5]="fri",r[6]="sat",r[7]="sun",jQuery("#timezone").length>0&&(tz=jQuery("#timezone").val()),jQuery("#widget_position").length>0&&(widget_position=jQuery("#widget_position").val()),jQuery(".fbmessenger").removeClass().addClass("fbmessenger wpos"+widget_position),jQuery(".tooltiptext").removeClass().addClass("tooltiptext wpos"+widget_position),jQuery("#fb_link").attr("href","http://m.me/"+fb);r[t.getDay()];jQuery("#fb_link").removeClass("disabled");var a=calculate_time_zone(),n=tz.substr(0,1),l=tz.slice(0,tz.indexOf(":")),u=tz.substr(tz.indexOf(":")+1,2);tz.slice(-1),a.slice(-1);"0"==n&&(n=""),"+"==n&&(l=l.substr(1));var m=parseInt(l)+parseFloat(u/60),o=calcTime(m,m),d=o.getDay();if(0==d&&(d=7),i[r[d]]){if(jQuery(".slider-time:visible").length>0){s=jQuery("#ts_container-"+r[d]+" .slider-time").html(),e=jQuery("#ts_container-"+r[d]+" .slider-time2").html();var f=convertTimeFormat(s),c=convertTimeFormat(e)}else if(jQuery("#mob_container_time").length>0){s=jQuery("#start_time-"+r[d]).val(),e=jQuery("#end_time-"+r[d]).val();var f=convertTimeFormat(s),c=convertTimeFormat(e)}else var h=ot[r[d]].split("-"),f=convertTimeFormat(h[0]),c=convertTimeFormat(h[1]);cHrs=t.getHours(),cMin=t.getMinutes();var _=f.slice(0,f.indexOf(":")),g=f.substr(f.indexOf(":")+1,2),y=c.slice(0,c.indexOf(":")),v=c.substr(c.indexOf(":")+1,2);lHrs=o.getHours(),lMin=o.getMinutes();var j=new Date(o.getFullYear(),o.getMonth(),o.getDate(),_,g,0,0);j=parseInt(j.getTime()/1e3);var Q=new Date(o.getFullYear(),o.getMonth(),o.getDate(),y,v,0,0);Q=parseInt(Q.getTime()/1e3),sT=new Date(1e3*j),eT=new Date(1e3*Q);var b=parseInt(o.getTime()/1e3);if(b>=j&&Q>b)return jQuery("#fb_link").removeClass("disabled").removeClass("email_us"),jQuery("#img_email").hide(),jQuery("#img_msg").show(),!0;jQuery("#chk_showemaillink").length>0?(emailLink=jQuery("#chk_showemaillink").is(":checked"),fb_email=jQuery("#fb_email").val()):emailLink=emailLink,emailLink?(jQuery("#fb_link").attr("href","mailto:"+fb_email),jQuery("#fb_link").attr("target","_self"),""!=fb_email&&isEmail(fb_email)?(jQuery("#fb_link").removeClass("disabled").addClass("email_us"),jQuery("#img_email").show(),jQuery("#img_msg").hide()):(jQuery("#img_email").hide(),jQuery("#img_msg").show())):jQuery("#fb_link").addClass("disabled")}else jQuery("#chk_showemaillink").length>0?(emailLink=jQuery("#chk_showemaillink").is(":checked"),fb_email=jQuery("#fb_email").val()):emailLink=emailLink,emailLink?(jQuery("#fb_link").attr("href","mailto:"+fb_email),jQuery("#fb_link").attr("target","_self"),""!=fb_email&&isEmail(fb_email)?(jQuery("#fb_link").removeClass("disabled").addClass("email_us"),jQuery("#img_email").show(),jQuery("#img_msg").hide()):(jQuery("#img_email").hide(),jQuery("#img_msg").show())):jQuery("#fb_link").addClass("disabled");return!1}function convertTimeFormat(e){var t=Number(e.match(/^(\d+)/)[1]),i=Number(e.match(/:(\d+)/)[1]),r=e.match(/\s(.*)$/)[1];"PM"==r&&12>t&&(t+=12),"AM"==r&&12==t&&(t-=12);var a=t.toString(),n=i.toString();return 10>t&&(a="0"+a),10>i&&(n="0"+n),a+":"+n}function calcTime(e,t){return d=new Date,utc=d.getTime()+6e4*d.getTimezoneOffset(),nd=new Date(utc+36e5*t),nd}function isEmail(e){var t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)}$.noConflict();var ot=Array();ot.mon="12:00 AM-11:59 PM",ot.tue="12:00 AM-11:59 PM",ot.wed="12:00 AM-11:59 PM",ot.thu="12:00 AM-11:59 PM",ot.fri="12:00 AM-11:59 PM",ot.sat="12:00 AM-11:59 PM",ot.sun="12:00 AM-11:59 PM";var tz="+02:00,1",widget_position="bottom_right",fb="leostudio.com.ua",fb_email="",emailLink=!1,mon=!0,tue=!0,wed=!0,thu=!0,fri=!0,sat=!0,sun=!0;jQuery(document).ready(function(e){calculate_time_zone(!0),validate(),setInterval(validate,3e4),e("#fb_link").click(linkHandler)});